var TT_NS=TT_NS||{},domain=TT_CONFIG.userUrl+"/",winUrl=window.location.href,TT_NS=function(a,b){a.config=a.config||{};a.config.urlCDN="//img.tttcdn.com";a.config.url2000=a.config.urlCDN+"/product/xy/2000/2000/";a.config.url560=a.config.urlCDN+"/product/xy/560/560/";a.config.url500=a.config.urlCDN+"/product/xy/500/500/";a.config.url168=a.config.urlCDN+"/product/xy/168/168/";a.config.webUrl="https://static.tomtop.com/tomtop/";a.init=function(){a.dialog.globalCloseDialog();a.dialog.operationDialog();a.UI.defaultSelect();a.change.aid();a.ready.init();a.lowerVersion.init();a.TT_AD_TOP.init()};a.cookie={get:function(c){c=document.cookie.match(new RegExp("(^| )"+c+"\x3d([^;]*)(;|$)"));return null!=c?unescape(c[2]):null},set:function(c,a){var b=new Date;b.setTime(b.getTime()+31536E6);document.cookie=c+"\x3d"+encodeURIComponent(a)+";domain\x3d."+TT_CONFIG.cookieUrl+";expires\x3d"+b.toGMTString()+";path\x3d/";return!0},del:function(c){var a=new Date;a.setTime(a.getTime()-1);var b=this.get(c);null!=b&&(document.cookie=c+"\x3d"+b+";domain\x3d."+TT_CONFIG.cookieUrl+";expires\x3d"+a.toGMTString()+";path\x3d/")},temp:function(a,b){document.cookie=a+"\x3d"+encodeURIComponent("["+b+"]")+";domain\x3d.tomtop.com;path\x3d/";return!0}};a.tool={isNull:function(a){var c;if(""===a||0===a||"0"===a||null===a||!1===a||"undefined"===typeof a)return!0;if("object"==typeof a){for(c in a)return!1;return!0}return!1}};a.price={"switch":function(c,b){return"JPY"==a.cookie.get("TT_CURR")?Math.round((c*b*1E4+1)/1E4):(Math.round((c*b*1E4+1)/100)/100).toFixed(2)}};a.lang={getId:function(a){var c={es:2,ru:3,de:4,fr:5,it:6,jp:7,pt:8};a=a.toLowerCase();return void 0===c[a]?1:c[a]},getLangForKey:function(c,b){var d;d=strFun("L")[TT_CONFIG.langPrefix+"."+c];a.tool.isNull(d)&&(d=TT_CONFIG.langPrefix+"."+c);return d}};a.change={aid:function(){if(""!=request("aid")){var c=request("aid"),f=a.cookie.get("AID"),d=request("cr"),l=request("pid");c!=f&&b.ajax({url:"http://www.tomtop.com/affiliate/ajaxcookietime",timeout:1E4,type:"post",dataType:"json",data:{cr:d,pid:l,aid:c},success:function(a){}})}}};a.dialog={toastTime:{oToastTime:null,oCountdown:null},toast:function(c){var f=c||{};c=f.content||"There is no incoming message!";var d=f.countdown||!1,l=f.time||3;0==b("#bm_toast").length&&(f=b('\x3cdiv id\x3d"bm_toast"\x3e\x3ci\x3e\x3c/i\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e'),b("body").append(f));b("#bm_toast").find("i").text(l);b("#bm_toast").find("p").text(c);b("#bm_toast").animate({},function(){b("#bm_toast").addClass("show")});d?(b("#bm_toast i").css("display","block"),clearInterval(a.dialog.oCountdown),a.dialog.oCountdown=setInterval(function(){b("#bm_toast i").text(--l)},1E3)):b("#bm_toast i").css("display","none");clearTimeout(a.dialog.oToastTime);a.dialog.oToastTime=setTimeout(function(){b("#bm_toast").removeClass("show");clearInterval(a.dialog.oCountdown);clearInterval(a.dialog.oToastTime)},1E3*l)},openDialogBg:function(a){a=a||{};var c=b('\x3cdiv class\x3d"bm_dialogBg"\x3e\x3c/div\x3e');a.css&&c.css(a.css);b("body").append(c)},dialogBg:function(c,f){!1===c?b(".bm_dialogBg").last().remove():!0===c?a.dialog.openDialogBg(f):0==b(".bm_dialogBg").length?a.dialog.openDialogBg(f):b(".bm_dialogBg").last().remove()},callbackFn:{callback:!1,fn:function(){}},alert:function(c,f){var d=c||{},l=d.shake||!1,d=b('\x3cdiv class\x3d"bm_dialog alert dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_body"\x3e'+(d.content||"\u6ca1\u6709\u5185\u5bb9")+'\x3c/div\x3e\x3cdiv class\x3d"dialog_foot"\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnText||"OK")+'" class\x3d"bm_btn confirm cancel" /\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');l&&d.addClass("shakeX");a.dialog.dialogBg(!0);b("body").append(d);a.dialog.callbackFn.callback=!1;f&&(a.dialog.callbackFn.callback=!0,a.dialog.callbackFn.fn=f)},confirm:function(c,f){var d=c||{},l=d.title||!1,g=d.shake||!1,d=b('\x3cdiv class\x3d"bm_dialog confirm dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_head"\x3e'+l+'\x3c/div\x3e\x3cdiv class\x3d"dialog_body"\x3e'+(d.content||"\u6ca1\u6709\u5185\u5bb9")+'\x3c/div\x3e\x3cdiv class\x3d"dialog_foot clearfix"\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnTextA||"YES")+'" class\x3d"bm_btn_A minor cancel false" /\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnTextB||"OK")+'" class\x3d"bm_btn confirm true" /\x3e\x3c/div\x3e\x3c/div\x3e');l||d.find(".dialog_head").remove();g&&d.addClass("shakeX");a.dialog.dialogBg(!0);b("body").append(d);a.dialog.callbackFn.callback=!1;f&&(a.dialog.callbackFn.callback=!0,a.dialog.callbackFn.fn=f)},prompt:function(c,f){var d=c||{},l=d.title||!1,g=d.shake||!1,d=b('\x3cdiv class\x3d"bm_dialog prompt dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_head"\x3e'+l+'\x3c/div\x3e\x3cdiv class\x3d"dialog_body"\x3e\x3ctextarea\x3e'+(d.content||"\u8bf7\u8f93\u5165...")+'\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog_foot"\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnText||"Submit")+'" class\x3d"bm_btn caution" /\x3e\x3c/div\x3e\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');l||d.find(".dialog_head").remove();g&&d.addClass("shakeX");a.dialog.dialogBg(!0);b("body").append(d);a.dialog.callbackFn.callback=!1;f&&(a.dialog.callbackFn.callback=!0,a.dialog.callbackFn.fn=f)},custom:function(c,f){var d=c||{},d=b('\x3cdiv class\x3d"bm_dialog custom dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e'+(d.content||"\u8bf7\u8f93\u5165...")+'\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');a.dialog.dialogBg(!0);b("body").append(d)},closeDialog:function(c){c.hasClass("alert")||c.hasClass("confirm")||c.hasClass("prompt")||c.hasClass("custom")?(c.remove(),a.dialog.callbackFn.fn(!1)):c.removeClass("dialog_show");a.dialog.dialogBg(!1)},globalCloseDialog:function(){b(document).on("click",".bm_dialog",function(){a.dialog.closeDialog(b(this))});b(document).on("click",".close_dialog",function(){var c=b(this).parents(".bm_dialog");a.dialog.closeDialog(c)});b(document).on("click",".dialog_c",function(a){a.stopPropagation()});b(document).on("click",".bm_dialogBg",function(){b(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show");a.dialog.dialogBg(!1)});b(document).on("click",".close_show",function(){b(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show");a.dialog.dialogBg(!1)})},operationDialog:function(){b(document).on("click",".alert .dialog_foot .bm_btn",function(){b(this).parents(".bm_dialog").remove();a.dialog.dialogBg(!1);a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!0)});b(document).on("click",".bm_dialog .true",function(){b(this).parents(".bm_dialog").remove();a.dialog.dialogBg(!1);a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!0)});b(document).on("click",".bm_dialog .false",function(){b(this).parents(".bm_dialog").remove();a.dialog.dialogBg(!1);a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!1)});b(document).on("click",".prompt .dialog_foot .bm_btn",function(){b(this).parents(".bm_dialog").remove();a.dialog.dialogBg(!1);var c=b(this).parents(".bm_dialog").find("textarea").val();a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(c)})}};a.oprationClass={radioClass:function(a,b,d){a.not(b).removeClass(d);b.addClass(d)},switchClass:function(a,b,d){arguments.length=3;a.hasClass(classA)?a.removeClass(classA).addClass(classB):a.removeClass(classB).addClass(classA)}};a.UI={defaultSelect:function(){b(window).width();b(document).on("click",".select_val,.select_handle",function(){b(this).parent().find(".option_list").show()});b(document).on("click",".option_list li",function(){var a=b(this).text(),f=b(this).attr("data-value");b(this).parent().parent().find(".hobby_birthday").val(a);b(this).parents(".select_wrap").find(".select_val").text(a).attr("data-value",f);b(this).parents(".select_wrap").find(".option_list").hide()});b(document).on("mouseleave",".select_wrap",function(){b(this).find(".option_list").hide()});return this}};a.ready={init:function(){this.addAid();this.addVisit();this.shipTo()},addAid:function(){if(1==b("#logout").length){var a=b("#logout").attr("aid");""!=a&&-1==winUrl.indexOf("?aid")&&-1==winUrl.indexOf("\x26aid")&&(-1==winUrl.indexOf("?")?window.history.replaceState(null,null,winUrl+"?aid\x3d"+a):window.history.replaceState(null,null,winUrl+"\x26aid\x3d"+a))}},addVisit:function(){var c=a.cookie.get("AID")&&""==request("aid")?a.cookie.get("AID"):""!=request("aid")?request("aid"):"";b.ajax({type:"GET",url:"/site/visit",data:{aid:c,url:window.location.href},dataType:"json",success:function(a){}})},shipTo:function(){b.ajax({type:"GET",cache:!1,url:"/site/shipto",dataType:"json",success:function(a){if(1==a.ret){var c=b(".selectFlag").find('span[data\x3d"'+a.code+'"]').html();b("#current_country_flage").removeClass("flag_US").addClass("flag_"+a.code);"CN"==a.code?b("#current_country_flage").next(".flag_Txt").html("China"):b("#current_country_flage").next(".flag_Txt").html(c)}}})}};a.lowerVersion={init:function(){this.fnBrowserV(function(a){a&&(a=b('\x3cdiv class\x3d"dialogs dialogs_show"\x3e\x3ci\x3e\x3c/i\x3e\x3cspan class\x3d"dialogs_c iev"\x3e\x3cp\x3eYour browser is an expired version, please update it  to view this page.\x3c/p\x3e\x3ci class\x3d"close_dialogs"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e'),b("body").append(a),fnDialogsBg())})},fnBrowserV:function(a){if(-1!==window.navigator.userAgent.indexOf("IE")){var b=navigator.appName,c=navigator.appVersion.split(";")[1].replace(/[ ]/g,"");"Microsoft Internet Explorer"==b&&"MSIE4.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE5.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE6.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE7.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE8.0"==c?a(!1):"Microsoft Internet Explorer"==b&&"MSIE9.0"==c?a(!1):"Microsoft Internet Explorer"==b&&"MSIE10.0"==c&&a(!1)}}};a.TT_AD_TOP={adCookie:"",init:function(){this.showTopAD("#close_topad");this.closeTopAd()},setCookie:function(a,b,d){d=d||7;var c=new Date;c.setDate(c.getDate()+d);document.cookie=a+"\x3d"+b+"; expires \x3d"+c},closeTopAd:function(){var a=this;b("#close_topad").click(function(){a.adCookie=b(this).parent().find("img").attr("alt");a.setCookie("topAD",a.adCookie,1);b(this).parent().hide()})},showTopAD:function(c){this.adCookie=b(c).parent().find("img").attr("alt");a.cookie.get("topAD")==this.adCookie?b(c).parent().hide():b(c).parent().show()}};a.base64={base64Encode:function(a){a=encodeURIComponent(a);a=unescape(a);return a=window.btoa(a)},base64Decode:function(a){a=window.atob(a);a=escape(a);return a=decodeURIComponent(a)}};a.arr={isInArray:function(a,b){for(var c=0;c<a.length;c++)if(b===a[c])return!0;return!1}};return a}(window.TT_NS||{},jQuery);TT_NS.init();var playLang="en es ru de fr it jp pt".split(" "),jsLanguage="en";$.each(playLang,function(a,b){b==TT_NS.cookie.get("PLAY_LANG")&&(jsLanguage=TT_NS.cookie.get("PLAY_LANG"))});function request(a){var b=location.href,b=b.substring(b.indexOf("?")+1,b.length).split("\x26"),c={};for(i=0;j=b[i];i++)c[j.substring(0,j.indexOf("\x3d")).toLowerCase()]=j.substring(j.indexOf("\x3d")+1,j.length);a=c[a.toLowerCase()];return"undefined"==typeof a?"":a}function unique(a){var b=[],c;for(c in a)-1==b.indexOf(a[c])&&b.push(a[c]);return b}function switchPrice(a,b){return"JPY"==NS.cookie.get("TT_CURR")?Math.round((a*b*1E4+1)/1E4):(Math.round((a*b*1E4+1)/100)/100).toFixed(2)}function trim(a){return a.replace(/(^\s*)|(\s*$)/g,"")}function parseJSON(a){if("string"!==typeof a||!a)return null;a=jQuery.trim(a);if(window.JSON&&window.JSON.parse)return window.JSON.parse(a);if(rvalidchars.test(a.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return(new Function("return "+a))();OpPopAlert("Invalid JSON: "+a)}function ajaxLang(a){if(""==request("lang")&&""==request("currency"))a=domain+a;else{var b=request("lang"),c=request("currency");a=domain+a+"\x26lang\x3d"+b+"\x26currency\x3d"+c}return a}function IsNum(a){var b=window.event?a.keyCode:a.which;48<=b&&57>=b||8==b||0==b||(window.event?window.event.returnValue=!1:a.preventDefault())}function changeURLArg(a,b,c){c=b+"\x3d"+c;return a.match(b+"\x3d([^\x26]*)")?a.replace(eval("/("+b+"\x3d)([^\x26]*)/gi"),c):a.match("[?]")?a+"\x26"+c:a+"?"+c}function strFun(a){return(new Function("return "+a))()}function moveBox(a){function b(a){e.position();a=(a||event).clientX-u;0>a?a=0:a>t.width()-k&&(a=t.width()-k);var b=a/(t.width()-k);g.css({left:-b*(n-h)});e.css({left:a});a=e.position().left;m.html(Math.ceil(a/k)+1);$("img.lazy").lazyload()}function c(a){this.onmouseup=this.onmousemove=null;e.removeClass("block");e.releaseCapture&&e.releaseCapture()}var f=1,d=a.find(".moveLeftClick"),l=a.find(".moveRightClick"),g=a.find(".moveBox"),h=a.find(".moveHidden").width(),q=a.find(".moveList"),r=q.outerWidth(!0),n=r*q.length,v=g.position().left,p=Math.ceil(n/h),m=a.siblings().find(".page");a.siblings().find(".pages");var w=a.find(".feed-scrollbar");g.css({width:n});d.addClass("leftArrAci");l.addClass("rightArrAci");n>h?(d.css("display","inline-block"),l.css("display","inline-block"),w.css("display","block")):(d.hide(),l.hide(),w.hide());l.bind("click",function(){if(!g.is(":animated"))if($("img.lazy").lazyload({event:"sporty"}),$("img.lazy").trigger("sporty"),0<e.length){if(k>h-(e.position().left+k)&&parseInt(k)!=parseInt(h-e.position().left))e.animate({left:"+\x3d"+(h-e.position().left-k)}),g.animate({left:-(n-v-h)});else if(parseInt(k)==parseInt(h-e.position().left))e.animate({left:0}),g.animate({left:0});else{var a=g.position().left%r,b=g.position().left%(h/q.length);0==a?(e.animate({left:"+\x3d"+k}),g.animate({left:"-\x3d"+h})):(e.animate({left:"+\x3d"+(k+b)}),g.animate({left:"-\x3d"+(h+a)}))}a=e.position().left+1;a=Math.ceil(a/k);a>=p&&parseInt(k)!=parseInt(h-e.position().left)?(a=p,m.html(a)):parseInt(k)==parseInt(h-e.position().left)?m.html(1):m.html(a+1)}else f>=p-1?g.animate({left:-(n-v-h)}).find("img").trigger("sporty"):g.animate({left:"-\x3d"+h}).find("img").trigger("sporty"),f++,f>=p&&(f=p),m.html(f)});d.bind("click",function(){if(!g.is(":animated"))if($("img.lazy").lazyload({event:"sporty"}),$("img.lazy").trigger("sporty"),0<e.length){if(e.position().left<k&&0!=e.position().left)e.animate({left:0}),g.animate({left:0});else if(0==e.position().left)e.animate({left:h-k}),g.animate({left:-(n-h)});else{var a=r+g.position().left%r,b=h/q.length+g.position().left%(h/q.length);0==a?(e.animate({left:"-\x3d"+k}),g.animate({left:"+\x3d"+h})):(e.animate({left:"-\x3d"+(k-b)}),g.animate({left:"+\x3d"+(h-a)}))}a=e.position().left;a=Math.ceil(a/k);1>=a&&0!=e.position().left?m.html(1):0==e.position().left?m.html(p):m.html(a)}else 2>=f?g.animate({left:0}):g.animate({left:"+\x3d"+h}),f--,1>=f&&(f=1),m.html(f)});var t=a.find(".feed-scrollbar"),e=a.find(".feed-scrollbar-thumb"),k=h/(n/h),u=0;e.css({width:k});e.mousedown(function(a){u=(a||event).clientX-e.position().left;e.addClass("block");e.setCapture?(e.onmousemove=b,e.onmouseup=c,e.setCapture()):(document.onmousemove=b,document.onmouseup=c);return!1})}$(function(){try{$("img.lazy").lazyload()}catch(a){}});(function(){$.fn.dropdown=function(a){function b(){$("[data-toggle \x3d dropdown]").each(function(){$(this).parent().removeClass("openD")})}$.fn.dropdown.defaults={trigger:"click"};a=$.extend({},$.fn.dropdown.defaults,a);if("click"==a.trigger)a=this.parent(),a.hasClass("openD")?a.removeClass("openD"):(b(),a.addClass("openD"));else if("hover"==a.trigger){var c;this.each(function(){$(this).parent().hover(function(){clearTimeout(c);b();$(this).addClass("openD")},function(){var a=$(this);c=setTimeout(function(){a.removeClass("openD")},100)})})}}})();$(function(){function a(){$("[data-toggle \x3d dropdown]").each(function(){$(this).parent().removeClass("openD")})}$(document).on("click",".dropdown_click",function(a){$(this).dropdown();a.stopPropagation()});$("[data-toggle\x3ddropdown]").hasClass("dropdown_hover")&&$(".dropdown_hover").dropdown({trigger:"hover"});$(document).on("click",function(b){($(b.target).hasClass("dropdown_menu")||$(b.target).attr("data-close")?$(b.target).attr("data-close"):$(b.target).parents(".dropdown_menu").attr("data-close"))||a()});$(document).on("click",".dropdown_menu li",function(){var a=$(this).find("a").attr("data-val");a&&$(this).parentsUntil(".bm_dropdown").siblings(".dropdown_link").find(".show_val").html(a)});(function(){$(document).on("click",".m_privacy_statement .icon_cross,.m_privacy_statement .bm_btn_A.minor",function(){$(".m_privacy_statement").css("display","none")});TT_NS.cookie.get("GDPR_dialog_show")||$.ajax({type:"GET",cache:!1,url:TT_CONFIG.userUrl+"/site/get-country-for-ip",dataType:"json",success:function(a){1==a.ret&&(TT_NS.cookie.set("GDPR_dialog_show","1"),TT_NS.arr.isInArray("AT BE BG HR CY CZ DK EE FI FR DE GR HU IE IT LV LT LU MT NL PL PT RO SK SI ES SE GB".split(" "),a.data.code)?$(".m_privacy_statement").css({display:"block"}):$(".m_privacy_statement").css({display:"none"}))}})})()});