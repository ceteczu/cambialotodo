var TT_NS = function(a, b) {
        a.setAdWidth = function() {
            if (0 < b(".head_left_ad").size() && 0 < b(".head_right_ad").size()) {
                var a = (b(document).width() - 1200) / 2;
                b(".head_right_ad,.head_left_ad").css({
                    width: a + "px"
                })
            }
        };
        a.fixedCategory = function() {
            var a = b("#c_nav").offset().top + b("#c_nav").height();
            b(document).scroll(function() {
                b(document).scrollTop() > a ? (b(".m_head").addClass("head_fixed"), b(".nav_l").parent().addClass("fixed_category"), b(".m_nav_category .nav_l ul").hide()) : (b(".m_head").removeClass("head_fixed"), b(".nav_l").parent().removeClass("fixed_category"), b(".m_nav_category .nav_l ul").show())
            })
        };
        a.index = {
            init: function() {
                a.scrolTop.btnEvent("#topSellers");
                a.scrolTop.btnEvent("#newArrivals");
                a.scrolTop.btnEvent("#ItemsConsider");
                b(".bannerwrap").carousel({
                    _height: "",
                    _banner: "on",
                    _auto: "on",
                    _opacity: "on",
                    _pointActive: "point-on",
                    _pointClass: "bannerPoint",
                    _pointLabel: "b",
                    _leftClass: "leftArr",
                    _rightClass: "rightArr"
                })
            },
            mightLike: function() {
                a.scrolTop.event(b("#mightLike"), function() {
                    var c = a.cookie.get("WEB-history");
                    c && (c = c.split(","), b.ajax({
                        type: "GET",
                        cache: !1,
                        url: a.config.domain + "index.php?r\x3dsite/ajaxyoumightlike\x26position\x3dtop" + TT_NS.lactions.lang(),
                        data: "listing_id\x3d" + c[0],
                        dataType: "html",
                        success: function(c) {
                            b("#mightLike").html(c);
                            a.scrolTop.btnEvent("#mightLike");
                            b("#mightLike").find("img.lazy").lazyload()
                        }
                    }))
                })
            }
        };
        a.setAdWidth();
        a.fixedCategory();
        a.index.init();
        a.index.mightLike();
        return a
    }(window.TT_NS || {}, jQuery),
    TT_NS = function(a, b) {
        a.TT_AD_BOTTOM = {
            adCookie: "",
            init: function() {
                this.showFooterAD("#close_footerad");
                this.closeFooterAd()
            },
            setCookie: function(a, b, d) {
                d = d || 7;
                var c = new Date;
                c.setDate(c.getDate() + d);
                document.cookie = a + "\x3d" + b + "; expires \x3d" + c
            },
            closeFooterAd: function() {
                var a = this;
                b("#close_footerad").click(function() {
                    a.adCookie = b(this).parent().find("img").attr("alt");
                    a.setCookie("footerAD", a.adCookie, 1);
                    b(this).parent().hide()
                })
            },
            showFooterAD: function(c) {
                this.adCookie = b(c).parent().find("img").attr("alt");
                a.cookie.get("footerAD") == this.adCookie ? b(c).parent().hide() : b(c).parent().show()
            }
        };
        a.TT_AD_BOTTOM.init();
        return a
    }(window.TT_NS || {}, jQuery);
$(function() {
    $(document).click(function() {
        $(".btn-group").removeClass("open")
    });
    $(".dropdown-toggle").click(function(a) {
        $(this).parent(".btn-group").hasClass("open") ? $(this).parent(".btn-group").removeClass("open") : ($(".btn-group").removeClass("open"), $(this).parent(".btn-group").addClass("open"));
        a.stopPropagation()
    });
    $("img.lazy").lazyload()
});

function Dialog(a, b, c) {
    c = {
        title: b || "",
        content: c || "",
        button1: strFun("TT_language_" + jsLanguage)["cambialotodo.product.cancel"],
        button2: strFun("TT_language_" + jsLanguage)["cambialotodo.product.ok"]
    };
    c = $.extend({
        position: {
            zone: "center"
        },
        overlay: !0
    }, c);
    b = "dialogBox_" + Math.floor(1E9 * Math.random());
    c = ['\x3cdiv id\x3d"' + b + '"  class\x3d"pu_pop"\x3e', '\x3cdiv class\x3d"pu_popWarp"\x3e\x3cp class\x3d"pu_popTitle"\x3e', c.title, '\x3c/p\x3e\x3cdiv class\x3d"pu_popCon"\x3e', c.content, '\x3c/div\x3e\x3cp class\x3d"pu_popBtn"\x3e\x3ca class\x3d"btn cancelC" href\x3d"javascript:;"\x3e', c.button1, '\x3c/a\x3e\x3ca class\x3d"btn btn-primary" tag\x3d"ok" href\x3d"javascript:;"\x3e', c.button2, '\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3cp class\x3d"empty"\x3e \x3c/p\x3e\x3cdiv class\x3d"pu_popBlack"\x3e \x3c/div\x3e\x3c/div\x3e'].join("");
    $(c).hide().appendTo("body").fadeIn();
    $.isFunction(a) && $("#" + b).find("a[tag\x3dok]").click(a);
    $(".closePop").click(function() {
        $(".pu_pop").fadeOut(function() {
            $(this).remove()
        })
    });
    $(".pu_popBlack,.cancelC").click(function() {
        var a = $(this).parents(".pu_pop");
        a.fadeOut(function() {
            a.remove()
        })
    })
}
$(function() {
    var a = $(".categoriesClass").children("li"),
        b = $(".categoriesList");
    a.click(function() {
        var a = $(this).index(),
            e = $(this).attr("cat_id"),
            d = $(".categoriesList").eq(a);
        d.html();
        $(this).siblings().removeClass("categoriesAci");
        $(this).addClass("categoriesAci");
        0 == d.children().length ? (0 == d.parent().find(".loading-ajax").length && d.parent().append("\x3cdiv class\x3d'loading-ajax' /\x3e"), $.ajax({
            type: "GET",
            cache: !1,
            url: domain + "index.php?r\x3dsite/ajax" + TT_NS.lactions.lang(),
            timeout: 1E4,
            data: "cate_id\x3d" + e,
            dataType: "html",
            success: function(c) {
                d.html(c);
                d.find("img").trigger("sporty");
                d.find(".lazy").lazyload({
                    event: "sporty"
                });
                b.hide();
                b.eq(a).show();
                $(".loading-ajax").remove()
            }
        })) : (b.hide(), b.eq(a).show())
    })
});
$(function() {
    $(".scrollRightWarp").myScroll({
        speed: 3E3,
        rowHeight: 82
    })
});
$(function() {
    $(document).on("click", ".free_email_submit", function() {
        var a = document.getElementById("free_email_content").value;
        "" != a ? 0 == TT_NS.check.email(a) ? ($(this).parent().parent().children(".error_info").css("display", "block"), $(this).prev().css("background", "#ffd9d9")) : window.location.href = TT_CONFIG.subscribeUrl + "/loyalty/subscribe?em\x3d" + TT_NS.base64.base64Encode(a) : ($(this).parent().parent().children(".error_info_blank").css("display", "block"), $(this).prev().css("background", "#ffd9d9"))
    });
    $(document).on("click", ".freePointWrap,.icon-Close", function() {
        $(".freePointWrap").css("display", "none")
    });
    $("#free_email_content").focus(function() {
        $(this).parent().parent().children(".error_info_blank").css("display", "none");
        $(this).parent().parent().children(".error_info").css("display", "none");
        $(this).css("background", "#fff")
    });
    $(document).on("click", ".freePoint", function(a) {
        a.stopPropagation()
    });
    getCookie("cambialotodo_index_ad") || ($(".freePointWrap").css({
        display: "block"
    }), SetCookie("cambialotodo_index_ad", "1"))
});